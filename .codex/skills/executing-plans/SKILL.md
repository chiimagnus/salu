---
name: executing-plans
description: "当已有实施计划（任务清单）时使用：按批次实现、验证、汇报，留出 review 检查点。"
---

# 执行实施计划（Executing Plans）

## 目的

把“写好的实施计划”稳定地落地为代码变更：先审计划再动手；按批次执行；每批都要有可复现的验证输出与等待 review 的停顿点。

核心原则：**小批量 + 检查点**（每批 2–4 个任务）。

进入此 executing-plans skill 后先声明：正在使用 `executing-plans` 按计划执行。

## 流程

### 1) 读取并审查计划（先质疑，后实现）
- 读计划文件，确认目标、范围、验证方式、文件路径是否明确
- 主动指出风险/缺口：依赖不清、边界条件缺失、验证命令不可执行、步骤过大
- 有疑问先问清楚再开始；不要“猜着做”

### 1.5) 先聚焦最高优先级（P1/P2/P3…）
- 如果计划按优先级分组：先只看 P1（最高优先级）相关内容
- 在动手前，先只读查看 P1 可能相关的代码与文档（避免漏改/反向依赖）

### 2) 建立执行看板
- 用 `update_plan` 把本批次任务写成步骤，并维护状态（`pending` / `in_progress` / `completed`）
- 默认从前 2–4 个任务开始；若任务涉及基础设施（公共类型/接口），优先执行它们

### 3) 批次执行（每个任务都要可验证）
对每个任务：
1) 标记 `in_progress`  
2) 严格按计划的小步骤做（不要跳步）  
3) 按计划运行验证命令，并记录关键输出（至少包含命令与通过/失败）  
4) 通过后标记 `completed`

Swift/SwiftPM 项目常见验证方式（示例）：
- 只跑相关测试：`swift test --filter MyModuleTests.MyTypeTests/testSpecificBehavior`
- 跑全量测试：`swift test`
- 只验证编译：`swift build`
- 有 Xcode 工程时（需要时）：`xcodebuild ... build`

### 4) 批次汇报并等待 review
一批做完后，只汇报三类信息：
- 做了什么（涉及的文件/核心改动点）
- 如何验证（命令 + 关键输出/结果）
- 接下来准备做什么（下一批任务）

然后停住等待反馈；按反馈调整后进入下一批，直到计划完成。

### 5) 完成一个优先级分组后的收尾（例如 P1 完成）
- 运行该分组要求的验证（例如 `swift build` / `swift test` / `xcodebuild`）
- 如果计划要求“脚本测试”，按计划执行对应脚本并记录输出
- 更新该分组要求更新的文档（只更新与本分组相关的部分）
- 再继续进入下一优先级分组（P2 → P3 → …）

## 何时必须停下并求助

遇到以下情况立即停止继续执行并提出具体问题：
- 中途被阻塞（缺依赖/权限/构建失败/测试失败）
- 计划关键步骤不明确（“加校验”“优化性能”但没有可验证定义）
- 你不理解某条指令或它与现有代码矛盾
- 验证反复失败（超过 2 次仍不清楚原因）

原则：**问清楚，不猜。**

## 何时回到“审计划”

出现以下情况回到第 1 步重新审查：
- 计划被更新（步骤/范围/验收口径变化）
- 基础方案需要推翻或明显走不通

不要硬顶障碍；用最小成本澄清后再继续。
